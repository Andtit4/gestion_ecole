@import 'react-day-picker/dist/style.css';
@tailwind base;
@tailwind components;
@tailwind utilities;
@layer base {
     :root {
        /* Variables de couleurs */
        --background: 0 0% 100%;
        --foreground: 222.2 84% 4.9%;
        --card: 0 0% 100%;
        --card-foreground: 222.2 84% 4.9%;
        --popover: 0 0% 100%;
        --popover-foreground: 222.2 84% 4.9%;
        --primary: 221 83% 53%;
        --primary-foreground: 210 40% 98%;
        --secondary: 214 32% 91%;
        --secondary-foreground: 222.2 47.4% 11.2%;
        --muted: 210 40% 96.1%;
        --muted-foreground: 215.4 16.3% 46.9%;
        --accent: 221 83% 53%;
        --accent-foreground: 222.2 47.4% 11.2%;
        --destructive: 0 84.2% 60.2%;
        --destructive-foreground: 210 40% 98%;
        --border: 214.3 31.8% 91.4%;
        --input: 214.3 31.8% 91.4%;
        --ring: 221 83% 53%;
        --radius: 0.5rem;
        /* Variables personnalisées */
        --sidebar-width: 16rem;
        --header-height: 4rem;
        --animation-speed: 0.2s;
        --shadow-color: 0 0 0;
    }
    .dark {
        --background: 222.2 84% 4.9%;
        --foreground: 210 40% 98%;
        --card: 222.2 84% 4.9%;
        --card-foreground: 210 40% 98%;
        --popover: 222.2 84% 4.9%;
        --popover-foreground: 210 40% 98%;
        --primary: 217.2 91.2% 59.8%;
        --primary-foreground: 222.2 84% 4.9%;
        --secondary: 217.2 32.6% 17.5%;
        --secondary-foreground: 210 40% 98%;
        --muted: 217.2 32.6% 17.5%;
        --muted-foreground: 215 20.2% 65.1%;
        --accent: 217.2 32.6% 17.5%;
        --accent-foreground: 210 40% 98%;
        --destructive: 0 62.8% 30.6%;
        --destructive-foreground: 210 40% 98%;
        --border: 217.2 32.6% 17.5%;
        --input: 217.2 32.6% 17.5%;
        --ring: 224.3 76.3% 94.1%;
        --shadow-color: 0 0 0;
    }
    * {
        @apply border-border;
    }
    html {
        scroll-behavior: smooth;
    }
    body {
        @apply bg-background text-foreground font-sans antialiased;
        -webkit-font-smoothing: antialiased;
        -moz-osx-font-smoothing: grayscale;
        text-rendering: optimizeLegibility;
    }
    /* Scrollbar personnalisé */
     ::-webkit-scrollbar {
        width: 6px;
        height: 6px;
    }
     ::-webkit-scrollbar-track {
        @apply bg-gray-100;
        border-radius: 3px;
    }
     ::-webkit-scrollbar-thumb {
        @apply bg-gray-300 hover:bg-gray-400;
        border-radius: 3px;
    }
    .dark ::-webkit-scrollbar-track {
        @apply bg-gray-800;
    }
    .dark ::-webkit-scrollbar-thumb {
        @apply bg-gray-600 hover:bg-gray-500;
    }
    /* Focus states améliorés */
    .focus-ring {
        @apply focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2 focus:ring-offset-background;
    }
    /* Selection */
     ::selection {
        @apply bg-primary/20 text-primary-foreground;
    }
}

@layer components {
    /* Layout Components */
    .app-container {
        @apply min-h-screen bg-gradient-to-br from-gray-50 to-gray-100;
    }
    .sidebar {
        @apply fixed inset-y-0 left-0 z-50 w-64 transform bg-white shadow-xl transition-transform duration-300 md:static md:translate-x-0;
    }
    .main-content {
        @apply flex-1 overflow-hidden bg-gray-50;
    }
    /* Card Components */
    .card {
        @apply bg-white shadow-sm rounded-xl border border-gray-200 p-6 transition-all duration-200 hover:shadow-md;
    }
    .card-header {
        @apply flex items-center justify-between mb-6;
    }
    .card-title {
        @apply text-lg font-semibold text-gray-900;
    }
    .card-description {
        @apply text-sm text-gray-600 mt-1;
    }
    .card-interactive {
        @apply card hover:shadow-lg hover:border-gray-300 cursor-pointer transition-all duration-200 hover:-translate-y-1;
    }
    /* Button Components */
    .btn-base {
        @apply inline-flex items-center justify-center whitespace-nowrap rounded-lg text-sm font-medium transition-all duration-200 focus-ring disabled:pointer-events-none disabled:opacity-50;
    }
    .btn-primary {
        @apply btn-base bg-primary hover:bg-primary/90 text-primary-foreground shadow-sm hover:shadow-md;
    }
    .btn-secondary {
        @apply btn-base bg-secondary hover:bg-secondary/80 text-secondary-foreground border border-input shadow-sm;
    }
    .btn-danger {
        @apply btn-base bg-destructive hover:bg-destructive/90 text-destructive-foreground shadow-sm hover:shadow-md;
    }
    .btn-ghost {
        @apply btn-base hover:bg-accent hover:text-accent-foreground;
    }
    .btn-outline {
        @apply btn-base border border-input bg-background hover:bg-accent hover:text-accent-foreground;
    }
    .btn-sm {
        @apply h-8 px-3 text-xs;
    }
    .btn-md {
        @apply h-10 px-4 py-2;
    }
    .btn-lg {
        @apply h-12 px-6 text-base;
    }
    /* Form Components */
    .form-group {
        @apply space-y-2;
    }
    .form-label {
        @apply block text-sm font-medium text-gray-700 mb-2;
    }
    .form-input {
        @apply w-full bg-white border border-input text-gray-900 placeholder-gray-500 rounded-lg py-2.5 px-4 shadow-sm focus:ring-2 focus:ring-primary focus:border-primary transition-all duration-200;
    }
    .form-textarea {
        @apply form-input resize-none min-h-[80px];
    }
    .form-select {
        @apply form-input pr-10 appearance-none;
    }
    .form-checkbox {
        @apply rounded border-gray-300 text-primary focus:ring-primary focus:ring-offset-0;
    }
    .form-error {
        @apply text-sm text-destructive mt-1;
    }
    .form-help {
        @apply text-sm text-muted-foreground mt-1;
    }
    /* Modal Components */
    .modal-overlay {
        @apply fixed inset-0 bg-black/50 backdrop-blur-sm z-50;
    }
    .modal-content {
        @apply fixed top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-full max-w-md mx-auto p-6 rounded-xl shadow-2xl bg-white border border-gray-100 z-50 animate-scale-in;
    }
    .modal-header {
        @apply flex items-center justify-between mb-4;
    }
    .modal-title {
        @apply text-xl font-semibold text-gray-900;
    }
    .modal-description {
        @apply text-sm text-gray-600 mb-4;
    }
    .modal-footer {
        @apply flex justify-end space-x-3 mt-6;
    }
    /* Badge Components */
    .badge {
        @apply inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium;
    }
    .badge-primary {
        @apply badge bg-primary/10 text-primary;
    }
    .badge-secondary {
        @apply badge bg-secondary/10 text-secondary-foreground;
    }
    .badge-success {
        @apply badge bg-success-50 text-success-700;
    }
    .badge-warning {
        @apply badge bg-warning-50 text-warning-700;
    }
    .badge-danger {
        @apply badge bg-destructive/10 text-destructive;
    }
    /* Role-specific badges */
    .badge-admin {
        @apply badge bg-admin-50 text-admin-700;
    }
    .badge-teacher {
        @apply badge bg-teacher-50 text-teacher-700;
    }
    .badge-student {
        @apply badge bg-student-50 text-student-700;
    }
    .badge-parent {
        @apply badge bg-parent-50 text-parent-700;
    }
    /* Table Components */
    .table-container {
        @apply bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden;
    }
    .table {
        @apply w-full text-sm text-left;
    }
    .table-header {
        @apply bg-gray-50 border-b border-gray-200;
    }
    .table-header-cell {
        @apply px-6 py-3 text-xs font-medium text-gray-500 uppercase tracking-wider;
    }
    .table-row {
        @apply border-b border-gray-100 hover:bg-gray-50 transition-colors duration-150;
    }
    .table-cell {
        @apply px-6 py-4 whitespace-nowrap;
    }
    /* Navigation Components */
    .nav-link {
        @apply flex items-center px-3 py-2 rounded-lg text-sm font-medium transition-all duration-200;
    }
    .nav-link-active {
        @apply nav-link bg-primary/10 text-primary border-r-2 border-primary;
    }
    .nav-link-inactive {
        @apply nav-link text-gray-600 hover:bg-gray-100 hover:text-gray-900;
    }
    /* Status Components */
    .status-dot {
        @apply inline-block w-2 h-2 rounded-full mr-2;
    }
    .status-active {
        @apply status-dot bg-success-500;
    }
    .status-inactive {
        @apply status-dot bg-gray-400;
    }
    .status-pending {
        @apply status-dot bg-warning-500;
    }
    .status-error {
        @apply status-dot bg-destructive;
    }
    /* Loading Components */
    .spinner {
        @apply animate-spin rounded-full h-4 w-4 border-2 border-gray-300 border-t-primary;
    }
    .skeleton {
        @apply animate-pulse bg-gray-200 rounded;
    }
    .skeleton-text {
        @apply skeleton h-4 mb-2 rounded;
    }
    .skeleton-circle {
        @apply skeleton rounded-full;
    }
    /* Utility Components */
    .gradient-bg {
        @apply bg-gradient-to-r from-primary/10 to-accent/10;
    }
    .glass-effect {
        @apply backdrop-blur-md bg-white/80 border border-white/20;
    }
    .text-balance {
        text-wrap: balance;
    }
    /* Print Styles */
    @media print {
        .no-print {
            @apply hidden;
        }
        .print-break {
            @apply break-after-page;
        }
        .print-avoid-break {
            @apply break-inside-avoid;
        }
    }
    /* Responsive Utilities */
    .container-responsive {
        @apply container mx-auto px-4 sm:px-6 lg:px-8;
    }
    .grid-responsive {
        @apply grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6;
    }
}


/* Radix UI Overrides */

[data-radix-dialog-content] {
    @apply animate-scale-in;
}

[data-radix-dialog-overlay] {
    @apply animate-fade-in;
}

[data-radix-dialog-title] {
    @apply text-lg font-semibold;
}

[data-radix-dialog-description] {
    @apply text-sm text-muted-foreground;
}


/* Motion Preferences */

@media (prefers-reduced-motion: no-preference) {
    .motion-safe-animate {
        @apply transition-all duration-200;
    }
}

@media (prefers-reduced-motion: reduce) {
    * {
        @apply animate-none transition-none;
    }
}